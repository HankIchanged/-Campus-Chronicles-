Game Description：

  《Campus Chronicles：校園生活模擬器》是一款以大學生日常為主題的文字互動遊戲。
  玩家扮演一位剛入學的新生，透過與不同 NPC（同學）對話、參加活動、探索校園，逐步建立「友情度」與「理解度」。
  不同的互動會影響玩家與 NPC 的關係、事件的走向，以及遊戲最終的校園故事總結。

  遊戲設計採用了狀態導向（state-based）的流程：
    玩家狀態：包含心情、能量、與 NPC 的友情度等。
    NPC 狀態：每位 NPC 皆有獨立的性格、興趣、互動風格，會對玩家的選擇產生不同反應。
    故事狀態：遊戲中所有互動最終會由 LLM 整合，生成玩家的「學期回顧」。

  遊戲同時提供 正式 LLM 模式（需輸入金鑰）與 離線模擬模式，使玩家即使沒有 API 也能運行。
  對於課程要求的「需要 LLM 自行消化其輸出並回饋後續內容」，遊戲透過角色對話摘要、關係更新、最終回顧等方式完全實現。

Details on the LLM Tasks Applied：

  本遊戲共使用四大類 LLM 任務：

    LLM Task 1：NPC 回應生成（Contextual NPC Response）

      用途：

        模擬每一位 NPC 的獨立人格與即時反應。

      LLM 行為：

        根據玩家上一句話/ NPC 的性格（內向/外向、樂觀/謹慎…）/ NPC 與玩家關係（友情度）生成自然、連貫、具情緒的回覆。

      LLM 自我消化部分：

        每次呼叫都需要讀取「上一輪對話摘要（LLM 輸出）」並續寫，使 NPC 對話具備記憶感。

    LLM Task 2：對話摘要（Dialogue Summarization）

      用途：

        保持遊戲能長期進行而不讓 prompt 過長，並提供狀態更新資訊。

      LLM 行為：

        將玩家與 NPC 的完整對話整理為：

          1.一句話摘要
          2.NPC 對玩家的觀感（增加/減少）
          3.情緒傾向（高興、生氣、困惑…）

      LLM 自我消化部分：

        後續所有 NPC 回應都會讀取這些摘要，使角色能基於「對話累積印象」行動，而不是只看最後一句話。

    LLM Task 3：友情度更新（Relationship Update）
      用途：

        每次互動後，LLM 根據對話內容判斷兩者關係是否上升。

      LLM 行為：

        1.判斷玩家是否說了 NPC 喜歡的主題
        2.依據情緒傾向調整數值
        3.回傳應增減的友情度

      LLM 自我消化部分：
        LLM 必須讀取上一輪「摘要」與「NPC 回應」，再融合資料後做出更新，完全符合「LLM 消化自我輸出」要求。

      LLM Task 4：學期回顧（Semester Review Generation）

        用途：
        
          完成一整局遊戲後，LLM 將所有互動摘要綜合成一篇，其中包含：

            1.校園生活體驗總結
            2.玩家與各 NPC 關係的變化
            3.個人性格成長
            4.重大事件整理（如迎新、社團、課堂互動）

      LLM 自我消化部分：

        它會閱讀所有過去「由 LLM 生成的摘要」與「LLM 回傳的情緒資訊」，並基於這些資料產生最終故事。
        也就是說，整份回顧是由 LLM 反覆累積、消化其自身輸出所組合而成。

Your Discovery：

  透過本次遊戲設計，我觀察到以下發現：

    LLM 的「角色一致性」高度依賴設計好的 Prompt 制約：
      當我給的prompt結構越完整，NPC角色的人格越立體。

    LLM 會「記住自己整理過的資訊」，摘要越好遊戲越穩定：
      LLM 的短期記憶有限，但透過摘要（LLM 自己產生的輸出），記憶可以被壓縮並反覆使用。